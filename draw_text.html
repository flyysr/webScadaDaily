<!-- Learn about this code on MDN: https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/fillText -->

<canvas id="canvas" width=600 height=250 class="playable-canvas"></canvas>
<div class="playable-buttons">
  <input id="edit" type="button" value="Edit" />
  <input id="reset" type="button" value="Reset" />
</div>
<textarea id="code" class="playable-code">
ctx.font = "48px serif";
ctx.fillText("Hello world", 50, 100);
</textarea>
<script>
  var canvas = document.getElementById("canvas");
  var ctx = canvas.getContext("2d");
  var textarea = document.getElementById("code");
  var reset = document.getElementById("reset");
  var edit = document.getElementById("edit");
  var code = textarea.value;

  function drawCanvas() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    eval(textarea.value);
  }

  reset.addEventListener("click", function() {
    textarea.value = code;
    drawCanvas();
  });

  edit.addEventListener("click", function() {
    textarea.focus();
  })

  textarea.addEventListener("input", drawCanvas);
  window.addEventListener("load", drawCanvas);

</script>
